GENERATED BY AI -- DO NOT GRADE

## Commands (Part B + Part C)

```sh
# From repo root

# Build AFL++ (once)
export AFL_PATH="$(pwd)/part-b-afl/AFLplusplus"
export PATH="$AFL_PATH:$PATH"
export LLVM_CONFIG=/opt/homebrew/opt/llvm/bin/llvm-config
LLVM_CONFIG="$LLVM_CONFIG" make -C "$AFL_PATH" source-only

# macOS shared memory (run once; required if you see shmget() failed)
sudo "$AFL_PATH/afl-system-config"

# Common paths
export SDKROOT="$(xcrun --show-sdk-path)"
HARNESS_SRC="part-a-harness/png_harness.c"

# -----------------
# Part B (no ASAN)
# -----------------
# Build harness (instrumented)
afl-clang-fast -g -isysroot "$SDKROOT" "$HARNESS_SRC" -o part-b-afl/harness_b $(pkg-config --cflags --libs libpng)

# Run 1: no seeds
afl-fuzz -i part-b-afl/in_noseeds -o part-b-afl/out_b_no_seeds -m none -- part-b-afl/harness_b @@ /dev/null

# Run 2: with seeds (provided in repo)
afl-fuzz -i part-b-afl/in_seeds -o part-b-afl/out_b_with_seeds -m none -- part-b-afl/harness_b @@ /dev/null

# ------------------------------
# Part C (ASAN + UBSAN enabled)
# ------------------------------
# Build harness (instrumented + sanitizers)
afl-clang-fast -g -fsanitize=address,undefined -isysroot "$SDKROOT" "$HARNESS_SRC" -o part-c-asan-ubsan/harness_c_asan $(pkg-config --cflags --libs libpng)

export AFL_I_DONT_CARE_ABOUT_MISSING_CRASHES=1
export ASAN_OPTIONS="abort_on_error=1:symbolize=0:detect_leaks=0"
export UBSAN_OPTIONS="halt_on_error=1"

afl-fuzz -i part-b-afl/in_seeds -o part-c-asan-ubsan/out_c_asan_ubsan -m none -- part-c-asan-ubsan/harness_c_asan @@ /dev/null
```

## Notes
- The harness is invoked as: `harness @@ /dev/null` (input file then output file).
- Output directories under `part-b-afl/out_*` and `part-c-asan-ubsan/out_*` are expected to be large and are typically ignored.
